<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>èµ°ä½å¾ˆå‘†çš„ä½œå“é›†</title>
    <style>
        :root {
            --bg-color: #f5f7fa;
            --card-bg: #ffffff;
            --text-main: #2c3e50;
            --text-sub: #7f8c8d;
            --accent-color: #3498db;
            --jump-color: #e67e22; /* è·³è½¬æŒ‰é’®ä½¿ç”¨æ©™è‰²åŒºåˆ† */
            --btn-shadow: rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
            --accent-color: #5dade2;
            --jump-color: #f39c12;
            --btn-shadow: rgba(0, 0, 0, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background-color: var(--bg-color); 
            color: var(--text-main); 
            font-family: -apple-system, "SF Pro Text", sans-serif;
            padding: 20px 15px;
            transition: background 0.3s;
            min-height: 100vh;
        }

        header { text-align: center; padding: 30px 0; }
        h1 { font-size: 22px; font-weight: 800; opacity: 0.9; }

        .mode-toggle {
            position: fixed; top: 20px; right: 20px;
            width: 40px; height: 40px; border-radius: 12px;
            background: var(--card-bg); border: none;
            box-shadow: 0 4px 12px var(--btn-shadow);
            z-index: 100; font-size: 18px; display: flex; align-items: center; justify-content: center;
        }

        .project-grid { max-width: 500px; margin: 0 auto; display: grid; gap: 20px; }

        .card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 16px;
            box-shadow: 0 10px 30px var(--btn-shadow);
        }

        .card-title { font-size: 17px; font-weight: 700; color: var(--accent-color); margin-bottom: 4px; }
        .card-desc { font-size: 13px; color: var(--text-sub); line-height: 1.4; margin-bottom: 12px; }
        .tech-note { color: #e74c3c; font-size: 11px; margin-bottom: 8px; font-weight: bold; }

        .img-scroll {
            display: flex; gap: 8px; overflow-x: auto;
            margin-bottom: 12px; padding-bottom: 4px;
            scrollbar-width: none;
        }
        .img-scroll::-webkit-scrollbar { display: none; }
        .img-scroll img { width: 140px; height: 90px; border-radius: 10px; object-fit: cover; background: #eee; }

        .view-btn {
            width: 100%; padding: 14px; background: var(--accent-color);
            color: white; border: none; border-radius: 12px;
            font-size: 14px; font-weight: 600; cursor: pointer;
        }

        .jump-btn { background: var(--jump-color); }

        /* é¢„è§ˆçª—å£ä¿æŒä¸å˜ */
        #web-viewer {
            position: fixed; inset: 0; background: var(--bg-color);
            z-index: 9999; display: none; flex-direction: column;
        }
        .viewer-nav {
            padding: 0 16px; height: 55px; background: var(--card-bg);
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .close-btn {
            background: #ff5f56; color: white; border: none;
            padding: 8px 16px; border-radius: 10px; font-size: 13px; font-weight: bold;
        }
        #viewer-frame { flex: 1; border: none; width: 100%; height: 100%; }
    </style>
</head>
<body>

    <button class="mode-toggle" id="modeToggle">ğŸŒ™</button>

    <header>
        <h1>èµ°ä½å¾ˆå‘†çš„ä½œå“å…¨é›†</h1>
    </header>

    <div class="project-grid" id="projectList"></div>

    <div id="web-viewer">
        <div class="viewer-nav">
            <span id="viewer-title" style="font-weight: 700; font-size: 15px;">ç½‘é¡µé¢„è§ˆ</span>
            <button class="close-btn" onclick="closeViewer()">è¿”å›åˆ—è¡¨</button>
        </div>
        <iframe id="viewer-frame" allow="accelerometer; gyroscope; magnetometer" sandbox="allow-forms allow-modals allow-popups allow-same-origin allow-scripts"></iframe>
    </div>

    <script>
        const projects = [
            { id: "Xmap2", title: "XmapğŸ—ºï¸", desc: "åŸºç¡€ç‰ˆåœ°å›¾ç³»ç»Ÿï¼Œæ•ˆæœä¸­è§„ä¸­çŸ©ã€‚", url: "https://cnyszb.github.io/Xmap/Xmap2.html", type: "embed" },
            { id: "Xmap", title: "Xmap2ğŸ—ºï¸", desc: "è¿›é˜¶ç‰ˆæœ¬ï¼Œæ‹¥æœ‰æ‘åº„ç³»ç»Ÿï¼Œä½†å› æ€§èƒ½ä¼˜åŒ–ä»…é€‚ç”¨äºå°èŒƒå›´åœ°å›¾ã€‚", url: "https://cnyszb.github.io/Xmap/Xmap.html", type: "embed" },
            { id: "Xmap3", title: "Xmap3ğŸ—ºï¸", desc: "æ— æ‘åº„ç³»ç»Ÿç‰ˆæœ¬ï¼Œè´Ÿè½½æ›´è½»ï¼Œå¯ç”¨äºå±•ç¤ºä¸­ç­‰è§„æ¨¡çš„åœ°å½¢ã€‚", url: "https://cnyszb.github.io/Xmap/Xmap3.html", type: "embed" },
            { id: "Xmap4", title: "Xmap4ğŸ—ºï¸", desc: "ä¸“ä¸ºè‡ªå®šä¹‰åˆ›ä½œè®¾è®¡ï¼Œå¯é…åˆç»˜ç”»è½¯ä»¶å¯¼å…¥å¹¶ç»˜åˆ¶ä¸“å±å›½å®¶è¾¹ç•Œã€‚", url: "https://cnyszb.github.io/Xmap/Xmap4.html", type: "embed" },
            { id: "earth", title: "earthğŸŒ", desc: "åœ°çƒå¤šæ—¶åŒºåŠ¨æ€æ¨¡å‹ï¼Œå®æ—¶æ¨¡æ‹Ÿå…¨çƒå…‰å½±åˆ†å¸ƒã€‚", url: "https://cnyszb.github.io/earth/%E5%9C%B0%E7%90%83%E5%A4%9A%E6%97%B6%E5%8C%BA%E6%A8%A1%E5%9E%8B.html", type: "embed" },
            { id: "map", title: "mapğŸ›°ï¸", desc: "å«æ˜Ÿåœ°å›¾å…¥å£ã€‚ç‰ˆæœ¬è¾ƒæ—§ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨APPç‰ˆã€‚", url: "https://cnyszb.github.io/map/Map.html", type: "embed" },
            { id: "Solarcny", title: "Solarcnyâ˜€ï¸", desc: "å¤ªé˜³ç³»è¿è¡Œæ¨¡å‹ï¼Œæä¾›åŸºç¡€ç§‘æ™®ä»‹ç»ä¸è¡Œæ˜Ÿè½¨é“å±•ç¤ºã€‚", url: "https://cnyszb.github.io/Solarcny/", type: "jump", note: "âš ï¸ å› æŠ€æœ¯å…¼å®¹æ€§åŸå› ï¼Œæ­¤ä½œå“éœ€è·³è½¬è®¿é—®ä»¥è·å¾—å®Œæ•´äº¤äº’ä½“éªŒã€‚" },
            { id: "Stmap", title: "StmapğŸ—ºï¸", desc: "æ˜Ÿçƒç”Ÿæˆç³»ç»Ÿï¼Œä¸º3Då»ºæ¨¡ä¸ä¸–ç•Œè§‚è®¾å®šï¼ˆOCï¼‰æä¾›è§†è§‰å‚è€ƒã€‚", url: "https://cnyszb.github.io/Stmap/114.html", type: "embed" },
            { id: "AppZone", title: "APPä¸“åŒºğŸ“±", desc: "æä¾›å„ç±»ç”±AIè¾…åŠ©è‡ªåˆ¶çš„å®ç”¨å·¥å…·è½¯ä»¶ä¸‹è½½é€šé“ã€‚", url: "https://www.123912.com/s/0UFCTd-6DSGd", type: "jump" }
        ];

        const listEl = document.getElementById('projectList');

        projects.forEach(p => {
            const card = document.createElement('div');
            card.className = 'card';
            
            // å¦‚æœæ˜¯è·³è½¬ç±»å‹ï¼Œæ·»åŠ æé†’æ–‡å­—
            const noteHtml = p.note ? `<div class="tech-note">${p.note}</div>` : '';
            const btnClass = p.type === 'jump' ? 'view-btn jump-btn' : 'view-btn';
            const btnText = p.type === 'jump' ? 'è·³è½¬æ‰“å¼€ç½‘é¡µ' : 'æ˜¾ç¤ºç½‘é¡µå†…å®¹';
            const btnAction = p.type === 'jump' ? `window.open('${p.url}', '_blank')` : `openViewer('${p.url}', '${p.title}')`;

            card.innerHTML = `
                <div class="card-title">${p.title}</div>
                <div class="card-desc">${p.desc}</div>
                ${noteHtml}
                <div class="img-scroll">
                    <img src="${p.id}1.png" onerror="this.src='https://via.placeholder.com/140x90?text=${p.id}+1'">
                    <img src="${p.id}2.png" onerror="this.src='https://via.placeholder.com/140x90?text=${p.id}+2'">
                    <img src="${p.id}3.png" onerror="this.src='https://via.placeholder.com/140x90?text=${p.id}+3'">
                </div>
                <button class="${btnClass}" onclick="${btnAction}">${btnText}</button>
            `;
            listEl.appendChild(card);
        });

        function openViewer(url, title) {
            const viewer = document.getElementById('web-viewer');
            const frame = document.getElementById('viewer-frame');
            frame.src = url;
            document.getElementById('viewer-title').innerText = title;
            viewer.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeViewer() {
            document.getElementById('web-viewer').style.display = 'none';
            document.getElementById('viewer-frame').src = 'about:blank';
            document.body.style.overflow = 'auto';
        }

        const modeBtn = document.getElementById('modeToggle');
        modeBtn.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            modeBtn.textContent = document.body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
        });
    </script>
</body>
</html>
